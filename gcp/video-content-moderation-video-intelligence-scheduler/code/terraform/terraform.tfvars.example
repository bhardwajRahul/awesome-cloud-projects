# ============================================================================
# TERRAFORM VARIABLES EXAMPLE FILE
# ============================================================================
# Copy this file to terraform.tfvars and customize the values for your
# environment. This file contains example values for deploying the video
# content moderation infrastructure.
# ============================================================================

# Required Variables
# ------------------
# These variables must be set for deployment

# GCP Project ID where resources will be created
project_id = "my-video-moderation-project"

# Core Configuration
# ------------------
# Regional configuration for optimal performance and compliance

# GCP region for regional resources (choose based on your location/requirements)
region = "us-central1"
# Available regions: us-central1, us-east1, us-west1, europe-west1, asia-east1, etc.

# GCP zone for zonal resources
zone = "us-central1-a"

# Resource Naming
# ---------------
# Customize resource naming for organization and uniqueness

# Prefix for all resource names
resource_prefix = "video-moderation"

# Optional suffix for bucket name (leave commented for auto-generation)
# bucket_name_suffix = "prod-001"

# Cloud Function Configuration
# ----------------------------
# Optimize function performance based on expected workload

# Function timeout in seconds (60-540 for gen2 functions)
function_timeout = 540

# Function memory allocation
# Options: 128Mi, 256Mi, 512Mi, 1Gi, 2Gi, 4Gi, 8Gi, 16Gi, 32Gi
function_memory = "1Gi"

# Maximum number of concurrent function instances
function_max_instances = 10

# CPU allocation for function
# Options: 0.083, 0.167, 0.333, 0.583, 1, 2, 4, 8
function_cpu = "1"

# Cloud Scheduler Configuration
# -----------------------------
# Configure automated processing schedule

# Cron expression for processing schedule
# Examples:
#   "0 */4 * * *"    # Every 4 hours
#   "0 0 * * *"      # Daily at midnight
#   "0 */2 * * *"    # Every 2 hours
#   "0 9,17 * * 1-5" # 9 AM and 5 PM on weekdays
schedule_expression = "0 */4 * * *"

# Timezone for scheduler
# Examples: America/New_York, America/Los_Angeles, Europe/London, Asia/Tokyo
schedule_timezone = "America/New_York"

# Pub/Sub Configuration
# ---------------------
# Configure message handling and retention

# Message retention duration
# Examples: 1h, 24h, 7d, 30d
message_retention_duration = "24h"

# Acknowledgment deadline in seconds (10-600)
ack_deadline_seconds = 600

# Cloud Storage Configuration
# ---------------------------
# Configure storage options for cost optimization

# Storage class for video files
# Options: STANDARD, NEARLINE, COLDLINE, ARCHIVE
storage_class = "STANDARD"

# Enable bucket versioning for data protection
enable_versioning = true

# Lifecycle management - delete objects after N days (0 to disable)
bucket_lifecycle_age = 365

# Security Configuration
# ----------------------
# Configure access controls and security features

# Enable uniform bucket-level access
enable_uniform_bucket_level_access = true

# Prevent public access to bucket
enable_public_access_prevention = true

# Video Intelligence Configuration
# --------------------------------
# Configure content moderation thresholds

# Explicit content detection threshold (1-5)
# 1: VERY_UNLIKELY, 2: UNLIKELY, 3: POSSIBLE, 4: LIKELY, 5: VERY_LIKELY
explicit_content_threshold = 3

# Ratio threshold for flagging content (0.0-1.0)
# 0.1 means flag if 10% or more frames contain explicit content
explicit_content_ratio_threshold = 0.1

# Resource Labels
# ---------------
# Labels for resource organization and cost tracking

labels = {
  environment = "production"
  project     = "video-moderation"
  team        = "media-platform"
  cost-center = "engineering"
  managed-by  = "terraform"
}

# Development Environment Example
# -------------------------------
# Uncomment and modify for development environment

# project_id = "my-video-moderation-dev"
# region = "us-central1"
# resource_prefix = "video-moderation-dev"
# function_memory = "512Mi"
# function_max_instances = 3
# schedule_expression = "0 */8 * * *"  # Less frequent processing
# storage_class = "STANDARD"
# bucket_lifecycle_age = 30  # Shorter retention for dev
# labels = {
#   environment = "development"
#   project     = "video-moderation"
#   managed-by  = "terraform"
# }

# Production Environment Example
# ------------------------------
# Uncomment and modify for production environment

# project_id = "my-video-moderation-prod"
# region = "us-central1"
# resource_prefix = "video-moderation-prod"
# function_memory = "2Gi"
# function_max_instances = 50
# schedule_expression = "0 */2 * * *"  # More frequent processing
# storage_class = "STANDARD"
# bucket_lifecycle_age = 2555  # 7 year retention
# explicit_content_threshold = 2  # More sensitive threshold
# explicit_content_ratio_threshold = 0.05  # Lower ratio threshold
# labels = {
#   environment = "production"
#   project     = "video-moderation"
#   compliance  = "required"
#   managed-by  = "terraform"
# }