# =============================================================================
# Cloud Function Requirements - Edge Model Updater
# =============================================================================
# Python package dependencies for the edge model updater Cloud Function
# These packages provide the necessary functionality for MLOps automation.

# Core Google Cloud libraries
google-cloud-storage==2.18.0
google-cloud-aiplatform==1.60.0
google-cloud-monitoring==2.21.0
google-cloud-logging==3.10.0

# Cloud Functions framework
functions-framework==3.5.0

# HTTP and API libraries
requests==2.31.0
urllib3==2.2.2

# Data processing and utilities
numpy==1.24.4
pandas==2.0.3

# JSON and data serialization
jsonschema==4.22.0

# Date and time handling
python-dateutil==2.9.0

# Retry and error handling
tenacity==8.4.2

# Type hints and validation
typing-extensions==4.11.0

# Security and authentication
google-auth==2.29.0
google-auth-oauthlib==1.2.0

# Protocol buffers (required by Google Cloud libraries)
protobuf==4.25.3

# gRPC libraries (required for Google Cloud APIs)
grpcio==1.62.2
grpcio-status==1.62.2

# Additional utilities
six==1.16.0
certifi==2024.6.2
charset-normalizer==3.3.2
idna==3.7

# Performance and caching
cachetools==5.3.3

# Development and testing (commented out for production)
# pytest==8.2.2
# pytest-mock==3.14.0
# black==24.4.2
# flake8==7.0.0
# mypy==1.10.0

# =============================================================================
# Version Constraints Explanation
# =============================================================================

# google-cloud-storage (2.18.0):
# - Latest stable version with support for hierarchical namespaces
# - Improved performance for large object operations
# - Enhanced IAM and security features

# google-cloud-aiplatform (1.60.0):
# - Full support for Vertex AI Model Registry
# - Latest ML pipeline and training job features
# - Enhanced model deployment capabilities

# google-cloud-monitoring (2.21.0):
# - Support for custom metrics and alerting
# - Improved time series data handling
# - Enhanced dashboard and visualization APIs

# google-cloud-logging (3.10.0):
# - Structured logging support
# - Enhanced log filtering and querying
# - Improved integration with Cloud Functions

# functions-framework (3.5.0):
# - Latest Cloud Functions runtime support
# - Enhanced HTTP request handling
# - Improved error handling and debugging

# numpy (1.24.4) & pandas (2.0.3):
# - Required for data processing in ML workflows
# - Compatible with scikit-learn and other ML libraries
# - Stable versions with good performance

# =============================================================================
# Security Considerations
# =============================================================================

# All packages are pinned to specific versions to ensure:
# 1. Reproducible builds across environments
# 2. Security vulnerability management
# 3. Stable function behavior
# 4. Compatibility with Google Cloud services

# Regular updates should be performed to:
# 1. Address security vulnerabilities
# 2. Gain access to new features
# 3. Improve performance
# 4. Maintain compatibility with Google Cloud APIs

# =============================================================================
# Performance Optimizations
# =============================================================================

# The selected versions provide:
# 1. Optimized API client performance
# 2. Efficient memory usage for Cloud Functions
# 3. Fast startup times
# 4. Minimal cold start latency
# 5. Reliable error handling and retries

# Memory usage is optimized for Cloud Functions with:
# - Minimal dependency footprint
# - Efficient package loading
# - Lazy imports where possible
# - Optimized Google Cloud client initialization