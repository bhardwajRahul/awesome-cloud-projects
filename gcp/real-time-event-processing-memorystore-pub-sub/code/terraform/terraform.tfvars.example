# ==============================================================================
# Terraform Variables Example
# ==============================================================================
# Copy this file to terraform.tfvars and customize the values for your environment.
# This file provides examples for different deployment scenarios.
# ==============================================================================

# ==============================================================================
# Required Variables
# ==============================================================================

# Your Google Cloud Project ID (REQUIRED)
project_id = "your-gcp-project-id"

# Primary region for resources (REQUIRED)
region = "us-central1"

# ==============================================================================
# Basic Configuration
# ==============================================================================

# Resource prefix for naming consistency
prefix = "event-processing"

# Organization domain for BigQuery access (optional)
organization_domain = "example.com"

# ==============================================================================
# Development Environment Example
# ==============================================================================

# Basic setup for development and testing
# Minimal cost configuration with reduced performance

# Redis configuration - minimal for development
redis_node_type = "SHARED_CORE_NANO"
redis_shard_count = 1
redis_replica_count = 0
redis_multi_zone = false
redis_auth_enabled = false
redis_encryption_enabled = false
redis_persistence_enabled = false
redis_cache_ttl_seconds = 1800  # 30 minutes

# Function configuration - cost-optimized
function_memory = "256Mi"
function_cpu = "0.17"
function_timeout_seconds = 60
function_max_instances = 10
function_min_instances = 0
function_concurrency = 80

# Pub/Sub configuration - short retention
pubsub_message_retention = "3600s"        # 1 hour
pubsub_subscription_retention = "600s"     # 10 minutes
pubsub_ack_deadline_seconds = 30
pubsub_max_delivery_attempts = 3

# BigQuery configuration - shorter retention
bigquery_location = "US"
bigquery_table_expiration_ms = 2592000000     # 30 days
bigquery_partition_expiration_ms = 2592000000  # 30 days

# VPC connector - minimal
vpc_connector_machine_type = "e2-micro"
vpc_connector_min_instances = 2
vpc_connector_max_instances = 3

# Security - relaxed for development
deletion_protection = false

# Monitoring - basic
monitoring_enabled = true
error_rate_threshold = 10.0

# ==============================================================================
# Production Environment Example
# ==============================================================================

# Uncomment and modify these values for production deployment
# High performance and high availability configuration

# # Redis configuration - production ready
# redis_node_type = "HIGHMEM_MEDIUM"
# redis_shard_count = 3
# redis_replica_count = 1
# redis_multi_zone = true
# redis_auth_enabled = true
# redis_encryption_enabled = true
# redis_persistence_enabled = true
# redis_cache_ttl_seconds = 3600  # 1 hour

# # Function configuration - high performance
# function_memory = "1Gi"
# function_cpu = "2"
# function_timeout_seconds = 300
# function_max_instances = 1000
# function_min_instances = 5
# function_concurrency = 100

# # Pub/Sub configuration - longer retention
# pubsub_message_retention = "604800s"      # 7 days
# pubsub_subscription_retention = "3600s"   # 1 hour
# pubsub_ack_deadline_seconds = 60
# pubsub_max_delivery_attempts = 5

# # BigQuery configuration - longer retention
# bigquery_location = "US"
# bigquery_table_expiration_ms = 7776000000      # 90 days
# bigquery_partition_expiration_ms = 7776000000   # 90 days

# # VPC connector - higher capacity
# vpc_connector_machine_type = "e2-standard-4"
# vpc_connector_min_instances = 2
# vpc_connector_max_instances = 10

# # Security - production ready
# deletion_protection = true

# # Monitoring - comprehensive
# monitoring_enabled = true
# error_rate_threshold = 5.0

# ==============================================================================
# High-Performance Environment Example
# ==============================================================================

# Uncomment these values for maximum performance scenarios
# Higher cost but optimized for high-throughput workloads

# # Redis configuration - maximum performance
# redis_node_type = "HIGHMEM_XLARGE"
# redis_shard_count = 5
# redis_replica_count = 2
# redis_multi_zone = true
# redis_auth_enabled = true
# redis_encryption_enabled = true
# redis_persistence_enabled = true
# redis_cache_ttl_seconds = 7200  # 2 hours

# # Function configuration - maximum performance
# function_memory = "4Gi"
# function_cpu = "4"
# function_timeout_seconds = 540
# function_max_instances = 3000
# function_min_instances = 10
# function_concurrency = 1000

# # VPC connector - maximum throughput
# vpc_connector_machine_type = "e2-standard-8"
# vpc_connector_min_instances = 3
# vpc_connector_max_instances = 10

# ==============================================================================
# Networking Configuration
# ==============================================================================

# VPC subnet configuration
main_subnet_cidr = "10.0.0.0/24"
connector_subnet_cidr = "10.0.1.0/28"  # Must be /28 for VPC connector

# ==============================================================================
# Labels and Organization
# ==============================================================================

# Resource labels for organization and cost tracking
labels = {
  project     = "event-processing"
  environment = "development"     # Change to "staging" or "production"
  team        = "data-engineering"
  cost-center = "engineering"
  managed-by  = "terraform"
  owner       = "your-email@example.com"
}

# ==============================================================================
# Regional Configuration Examples
# ==============================================================================

# US regions
# region = "us-central1"    # Iowa (default)
# region = "us-east1"       # South Carolina
# region = "us-east4"       # Northern Virginia
# region = "us-west1"       # Oregon
# region = "us-west2"       # Los Angeles
# region = "us-west3"       # Salt Lake City
# region = "us-west4"       # Las Vegas

# Europe regions
# region = "europe-west1"   # Belgium
# region = "europe-west2"   # London
# region = "europe-west3"   # Frankfurt
# region = "europe-west4"   # Netherlands
# region = "europe-west6"   # Zurich
# region = "europe-north1"  # Finland

# Asia regions
# region = "asia-east1"        # Taiwan
# region = "asia-east2"        # Hong Kong
# region = "asia-northeast1"   # Tokyo
# region = "asia-northeast2"   # Osaka
# region = "asia-northeast3"   # Seoul
# region = "asia-south1"       # Mumbai
# region = "asia-southeast1"   # Singapore
# region = "asia-southeast2"   # Jakarta

# Australia regions
# region = "australia-southeast1"  # Sydney

# ==============================================================================
# Cost Optimization Settings
# ==============================================================================

# For cost-conscious deployments, use these settings:
# - Use SHARED_CORE_NANO for Redis in development
# - Set function_min_instances = 0 for scale-to-zero
# - Use shorter retention periods for Pub/Sub and BigQuery
# - Use single-zone deployment (redis_multi_zone = false)
# - Disable encryption for development (redis_encryption_enabled = false)

# ==============================================================================
# Security Hardening Settings
# ==============================================================================

# For security-focused deployments, use these settings:
# - Enable Redis authentication (redis_auth_enabled = true)
# - Enable transit encryption (redis_encryption_enabled = true)
# - Use multi-zone deployment (redis_multi_zone = true)
# - Enable deletion protection (deletion_protection = true)
# - Set strict error thresholds (error_rate_threshold = 1.0)

# ==============================================================================
# Multi-Environment Setup
# ==============================================================================

# For multiple environments, consider using:
# - Different prefixes: "dev-event", "staging-event", "prod-event"
# - Environment-specific labels
# - Scaled configurations based on environment needs
# - Separate projects or shared projects with environment isolation