# Example Terraform Variables Configuration
# Copy this file to terraform.tfvars and customize for your environment

# Required: Your GCP Project ID
project_id = "your-gcp-project-id"

# Required: GCP Region and Zone
region = "us-central1"
zone   = "us-central1-a"

# Optional: Resource naming and environment
resource_name_prefix = "intelligent-routing"
environment         = "dev"

# Optional: Enable APIs automatically (recommended for first deployment)
enable_apis = true

# Optional: Cloud Run Services Configuration
cloud_run_services = {
  service_a = {
    image         = "gcr.io/cloudrun/hello"
    memory        = "512Mi"
    cpu           = "1000m"
    max_instances = 10
    env_vars = {
      SERVICE_TYPE   = "fast"
      RESPONSE_DELAY = "100"
    }
  }
  service_b = {
    image         = "gcr.io/cloudrun/hello"
    memory        = "1Gi"
    cpu           = "1000m"
    max_instances = 10
    env_vars = {
      SERVICE_TYPE   = "standard"
      RESPONSE_DELAY = "500"
    }
  }
  service_c = {
    image         = "gcr.io/cloudrun/hello"
    memory        = "2Gi"
    cpu           = "2000m"
    max_instances = 5
    env_vars = {
      SERVICE_TYPE   = "intensive"
      RESPONSE_DELAY = "1000"
    }
  }
}

# Optional: BigQuery Dataset Configuration
bigquery_dataset_config = {
  location                    = "US"
  default_table_expiration_ms = 86400000  # 1 day (adjust as needed)
  delete_contents_on_destroy  = true      # Set to false for production
  description                 = "Traffic analytics for intelligent routing"
}

# Optional: Service Extensions Configuration
service_extensions_config = {
  callout_timeout_seconds = 30
  failover_behavior      = "CONTINUE"  # Options: CONTINUE, FAIL_CLOSE
}

# Optional: Load Balancer Configuration
load_balancer_config = {
  enable_https                     = false  # Set to true for production
  ssl_certificate_domains          = []     # Add domains for HTTPS
  health_check_path               = "/health"
  health_check_interval           = 30
  health_check_timeout            = 10
  health_check_healthy_threshold   = 2
  health_check_unhealthy_threshold = 3
}

# Optional: Cloud Function Configuration
cloud_function_config = {
  runtime          = "python39"
  memory_mb        = 256
  timeout_seconds  = 60
  max_instances    = 100
  ingress_settings = "ALLOW_ALL"
}

# Optional: Workflow Configuration
workflow_config = {
  description = "Analytics processor for intelligent traffic routing"
}

# Optional: Logging Configuration
logging_config = {
  retention_days = 30
  enable_export  = true
}

# Optional: Resource Labels
labels = {
  terraform   = "true"
  recipe      = "load-balancer-traffic-routing"
  component   = "intelligent-routing"
  team        = "platform-engineering"
  cost-center = "infrastructure"
}