## List Conversations Request Mapping Template
## Queries conversations for a specific user using the UserConversations GSI

{
    "version": "2017-02-28",
    "operation": "Query",
    "index": "UserConversations",
    "query": {
        "expression": "userId = :userId",
        "expressionValues": {
            ":userId": $util.dynamodb.toDynamoDBJson($ctx.args.userId)
        }
    },
    ## Sort by lastMessageAt in descending order (most recent first)
    "scanIndexForward": false,
    ## Limit with default value
    "limit": #if($ctx.args.limit) $ctx.args.limit #else 20 #end
    ## Pagination token
    #if($ctx.args.nextToken)
    ,"nextToken": "$ctx.args.nextToken"
    #end
}