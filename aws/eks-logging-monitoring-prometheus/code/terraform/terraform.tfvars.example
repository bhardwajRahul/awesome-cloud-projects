# Example Terraform variables for EKS Cluster Logging and Monitoring

# AWS Configuration
aws_region = "us-west-2"

# EKS Cluster Configuration
cluster_name    = "my-eks-observability-cluster"
cluster_version = "1.28"
environment     = "dev"
project_name    = "my-project"

# Node Group Configuration
node_group_name = "my-nodegroup"
node_group_config = {
  instance_types = ["t3.medium"]
  scaling_config = {
    desired_size = 2
    max_size     = 4
    min_size     = 2
  }
  disk_size = 30
  ami_type  = "AL2_x86_64"
}

# Network Configuration
vpc_cidr = "10.0.0.0/16"
private_subnets = ["10.0.1.0/24", "10.0.2.0/24"]
public_subnets  = ["10.0.3.0/24", "10.0.4.0/24"]
availability_zones = ["us-west-2a", "us-west-2b"]

# Security Configuration
endpoint_config = {
  private_access      = true
  public_access       = true
  public_access_cidrs = ["0.0.0.0/0"]  # Restrict this for production
}

# Control Plane Logging
control_plane_logging = ["api", "audit", "authenticator", "controllerManager", "scheduler"]

# Monitoring Configuration
enable_container_insights = true
enable_prometheus        = true
enable_cloudwatch_alarms = true

# Prometheus Configuration
prometheus_workspace_name = "my-prometheus-workspace"

# CloudWatch Configuration
cloudwatch_log_retention_days = 7
monitoring_config = {
  enable_detailed_monitoring   = true
  metrics_collection_interval  = 60
  enable_logs_insights_queries = true
}

# Alarm Thresholds
cpu_utilization_threshold    = 80
memory_utilization_threshold = 80
failed_pods_threshold       = 5

# Fluent Bit Configuration
fluent_bit_config = {
  image_tag      = "stable"
  log_level      = "info"
  mem_buf_limit  = "50MB"
  read_from_head = false
}

# Sample Application
deploy_sample_app = true
sample_app_config = {
  replicas = 2
  image    = "nginx"
  tag      = "1.21"
}

# SNS Notifications (optional)
enable_sns_alerts = false
sns_endpoint      = ""  # Add your email address to enable notifications

# IRSA Configuration
enable_irsa = true

# Additional Tags
tags = {
  Owner       = "DevOps Team"
  Environment = "development"
  Project     = "EKS Observability"
  CostCenter  = "engineering"
}