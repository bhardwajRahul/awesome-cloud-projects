{
  "app": "python3 app.py",
  "watch": {
    "include": [
      "**"
    ],
    "exclude": [
      "README.md",
      "cdk*.json",
      "requirements*.txt",
      "source.bat",
      "**/__pycache__",
      "**/*.pyc",
      ".venv/**",
      ".env",
      ".git/**",
      ".pytest_cache/**",
      ".mypy_cache/**",
      "htmlcov/**",
      "*.egg-info/**",
      "build/**",
      "dist/**"
    ]
  },
  "context": {
    "@aws-cdk/aws-lambda:recognizeLayerVersion": true,
    "@aws-cdk/aws-lambda:recognizeVersionProps": true,
    "@aws-cdk/aws-cloudfront:defaultSecurityPolicyTLSv1.2_2021": true,
    "@aws-cdk/aws-apigateway:usagePlanKeyOrderInsensitiveId": true,
    "@aws-cdk/aws-rds:lowercaseDbIdentifier": true,
    "@aws-cdk/aws-efs:defaultEncryptionAtRest": true,
    "@aws-cdk/aws-lambda:recognizeParentProps": true,
    "@aws-cdk/aws-apigateway:disableCloudWatchRole": false,
    "@aws-cdk/aws-codepipeline:crossAccountKeyAliasStackSafeResourceName": true,
    "@aws-cdk/aws-s3:createDefaultLoggingPolicy": true,
    "@aws-cdk/aws-sns-subscriptions:restrictSqsDescryption": true,
    "@aws-cdk/aws-apigateway:requestValidatorUniqueId": true,
    "@aws-cdk/aws-kms:aliasNameRef": true,
    "@aws-cdk/aws-autoscaling:generateLaunchTemplateInsteadOfLaunchConfig": true,
    "@aws-cdk/aws-iam:minimizePolicies": true,
    "@aws-cdk/aws-iam:importedRoleStackSafeDefaultPolicyName": true,
    "@aws-cdk/core:validateSnapshotRemovalPolicy": true,
    "@aws-cdk/aws-codepipeline:crossAccountKeys": true,
    "@aws-cdk/aws-s3:serverAccessLogsUseBucketPolicy": true,
    "@aws-cdk/aws-route53-patters:useCertificate": true,
    "@aws-cdk/customresources:installLatestAwsSdkDefault": false,
    "@aws-cdk/aws-s3:grantWriteWithoutAcl": true,
    "@aws-cdk/aws-ecs-patterns:removeDefaultDesiredCount": true,
    "@aws-cdk/aws-rds:auroraClusterChangeScopeOfInstanceParameterGroupWithEachParameters": true,
    "@aws-cdk/aws-appsync:useArnForSourceApiAssociationIdentifier": true,
    "@aws-cdk/aws-rds:preventRenderingDeprecatedCredentials": true,
    "@aws-cdk/aws-codepipeline-actions:useNewDefaultBranchForSourceActions": true,
    "@aws-cdk/aws-cloudwatch-actions:changeLambdaPermissionLogicalIdForLambdaAction": true,
    "@aws-cdk/aws-codepipeline:crossAccountKeyAliasStackSafeResourceName": true,
    "@aws-cdk/aws-lambda:recognizeTransformingFunctionProps": true,
    "@aws-cdk/aws-stepfunctions:checkForLegacyDefinitionValues": true,
    "@aws-cdk/aws-elasticloadbalancingv2:allowWafAssociationWithOlderTargetGroupVersions": true
  },
  "build": {
    "commands": [
      "echo 'Building CDK application...'",
      "python3 -m py_compile app.py",
      "echo 'Build completed successfully!'"
    ]
  },
  "deploy": {
    "commands": [
      "echo 'Deploying Serverless API Patterns stack...'",
      "cdk deploy --require-approval never",
      "echo 'Deployment completed successfully!'"
    ]
  },
  "metadata": {
    "project_name": "serverless-api-patterns-lambda-authorizers",
    "description": "Serverless API Patterns with Lambda Authorizers and API Gateway",
    "version": "1.0.0",
    "author": "AWS CDK Generator",
    "created_date": "2025-01-27",
    "aws_services": [
      "API Gateway",
      "Lambda",
      "IAM",
      "CloudWatch"
    ],
    "architecture_patterns": [
      "TOKEN-based authorization",
      "REQUEST-based authorization",
      "Serverless API security",
      "Lambda proxy integration",
      "IAM policy generation"
    ],
    "security_features": [
      "Bearer token validation",
      "Multi-method authentication",
      "Role-based access control",
      "Request context analysis",
      "Authorization caching"
    ],
    "use_cases": [
      "API authentication and authorization",
      "Serverless security patterns",
      "Microservices authorization",
      "Custom authentication schemes",
      "Enterprise API security"
    ]
  },
  "environments": {
    "development": {
      "account": "${CDK_DEFAULT_ACCOUNT}",
      "region": "${CDK_DEFAULT_REGION}",
      "stage": "dev",
      "log_level": "DEBUG",
      "authorizer_cache_ttl": 300,
      "api_throttling": {
        "rate_limit": 100,
        "burst_limit": 200
      }
    },
    "staging": {
      "account": "${CDK_DEFAULT_ACCOUNT}",
      "region": "${CDK_DEFAULT_REGION}",
      "stage": "staging",
      "log_level": "INFO",
      "authorizer_cache_ttl": 300,
      "api_throttling": {
        "rate_limit": 500,
        "burst_limit": 1000
      }
    },
    "production": {
      "account": "${CDK_DEFAULT_ACCOUNT}",
      "region": "${CDK_DEFAULT_REGION}",
      "stage": "prod",
      "log_level": "WARN",
      "authorizer_cache_ttl": 300,
      "api_throttling": {
        "rate_limit": 1000,
        "burst_limit": 2000
      }
    }
  },
  "feature_flags": {
    "@aws-cdk/core:newStyleStackSynthesis": true,
    "@aws-cdk/core:stackRelativeExports": true,
    "@aws-cdk/aws-lambda:recognizeVersionProps": true,
    "@aws-cdk/aws-apigateway:usagePlanKeyOrderInsensitiveId": true,
    "@aws-cdk/aws-cloudfront:defaultSecurityPolicyTLSv1.2_2021": true
  },
  "plugin": [
    "aws-cdk-local"
  ],
  "toolkits": [
    {
      "name": "default",
      "profile": "default"
    }
  ],
  "version_reporting": false,
  "path_metadata": false,
  "asset_metadata": false,
  "notices": false,
  "rollback": false,
  "tags": {
    "Project": "ServerlessApiPatterns",
    "Environment": "Demo",
    "Purpose": "Lambda Authorizer Demonstration",
    "ManagedBy": "CDK",
    "CostCenter": "Engineering",
    "Owner": "DevOps Team"
  },
  "bootstrap": {
    "bucket_name": "${CDK_DEFAULT_ACCOUNT}-${CDK_DEFAULT_REGION}-cdk-bootstrap",
    "file_asset_bucket_name": "${CDK_DEFAULT_ACCOUNT}-${CDK_DEFAULT_REGION}-cdk-file-assets",
    "image_asset_bucket_name": "${CDK_DEFAULT_ACCOUNT}-${CDK_DEFAULT_REGION}-cdk-image-assets",
    "version_reporting": false,
    "use_container_credentials": false
  },
  "diff": {
    "context_lines": 3,
    "template_only": false,
    "fail_on_error": false
  },
  "bundling": {
    "stacks": ["*"],
    "exclude": [
      "**/node_modules/**",
      "**/.git/**",
      "**/.venv/**",
      "**/__pycache__/**",
      "**/*.pyc",
      "**/build/**",
      "**/dist/**",
      "**/.pytest_cache/**",
      "**/.mypy_cache/**"
    ]
  },
  "documentation": {
    "readme": "README.md",
    "architecture_diagram": "docs/architecture.md",
    "api_documentation": "docs/api.md",
    "deployment_guide": "docs/deployment.md",
    "testing_guide": "docs/testing.md"
  },
  "testing": {
    "unit_tests": "tests/unit/",
    "integration_tests": "tests/integration/",
    "test_command": "python -m pytest",
    "coverage_command": "python -m pytest --cov=app",
    "coverage_threshold": 80
  },
  "linting": {
    "python_linter": "flake8",
    "python_formatter": "black",
    "import_sorter": "isort",
    "type_checker": "mypy",
    "security_scanner": "bandit"
  },
  "ci_cd": {
    "pipeline_name": "serverless-api-patterns-pipeline",
    "source_repository": "aws-samples/serverless-api-patterns",
    "branch": "main",
    "build_spec": "buildspec.yml",
    "deploy_stages": ["dev", "staging", "prod"]
  }
}