# Example Terraform Variables Configuration
# Copy this file to terraform.tfvars and customize the values for your deployment

#------------------------------------------------------------------------------
# General Configuration
#------------------------------------------------------------------------------

# Prefix for all resource names (must be unique in your account)
name_prefix = "resilience-demo"

# Environment designation
environment = "demo"

# Application name for resilience monitoring
app_name = "demo-application"

# Additional resource tags
tags = {
  Project     = "resilience-monitoring"
  Environment = "demo"
  Owner       = "platform-team"
  CostCenter  = "engineering"
  Purpose     = "learning"
}

#------------------------------------------------------------------------------
# Network Configuration
#------------------------------------------------------------------------------

# VPC CIDR block (adjust if conflicts with existing networks)
vpc_cidr = "10.0.0.0/16"

# Public subnet for EC2 instance
public_subnet_1_cidr = "10.0.1.0/24"

# Private subnet for RDS Multi-AZ (in different AZ)
private_subnet_2_cidr = "10.0.2.0/24"

# CIDR block allowed for SSH access (leave empty to disable SSH)
# Example: "203.0.113.0/24" for your office network
# Use "0.0.0.0/0" only for testing (NOT recommended for production)
allowed_ssh_cidr = ""

#------------------------------------------------------------------------------
# EC2 Configuration
#------------------------------------------------------------------------------

# EC2 instance type for demo application
# Options: t3.micro (free tier), t3.small, t3.medium, etc.
instance_type = "t3.micro"

# Enable detailed CloudWatch monitoring (additional cost)
enable_detailed_monitoring = false

# Use Spot instances for cost savings (not recommended for production)
use_spot_instances = false

#------------------------------------------------------------------------------
# RDS Database Configuration
#------------------------------------------------------------------------------

# RDS instance class
# Options: db.t3.micro (free tier), db.t3.small, db.t3.medium, etc.
db_instance_class = "db.t3.micro"

# MySQL version
mysql_version = "8.0"

# Database configuration
database_name     = "resiliencedb"
database_username = "admin"

# IMPORTANT: Change this password for production use!
# Use AWS Secrets Manager or another secure method for production
database_password = "TempPassword123!"

# Backup retention period (1-35 days)
rds_backup_retention_days = 7

#------------------------------------------------------------------------------
# AWS Resilience Hub Configuration
#------------------------------------------------------------------------------

# Resilience policy tier
# Options: MissionCritical, Critical, Important, CoreServices, NonCritical, NotApplicable
resilience_tier = "MissionCritical"

# Recovery Time Objectives (RTO) in minutes
# How long it should take to recover from failures
az_rto_minutes       = 5   # Availability Zone failure
hardware_rto_minutes = 10  # Hardware failure
software_rto_minutes = 5   # Software failure
region_rto_minutes   = 60  # Regional failure

# Recovery Point Objectives (RPO) in minutes  
# Maximum acceptable data loss in minutes
az_rpo_minutes       = 1   # Availability Zone failure
hardware_rpo_minutes = 5   # Hardware failure
software_rpo_minutes = 1   # Software failure
region_rpo_minutes   = 30  # Regional failure

#------------------------------------------------------------------------------
# Monitoring and Alerting Configuration
#------------------------------------------------------------------------------

# Email address for resilience alerts (leave empty to skip email notifications)
alert_email = ""

# Resilience score thresholds (0-100)
critical_resilience_threshold = 70  # Below this triggers critical alerts
warning_resilience_threshold  = 80  # Below this triggers warning alerts

# CloudWatch log retention (in days)
# Options: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, 3653
log_retention_days = 14

#------------------------------------------------------------------------------
# Lambda Function Configuration
#------------------------------------------------------------------------------

# Lambda function memory size (128-10240 MB)
lambda_memory_size = 256

# Lambda function timeout (1-900 seconds)
lambda_timeout = 60

#------------------------------------------------------------------------------
# Additional Features (Optional)
#------------------------------------------------------------------------------

# Enable VPC Flow Logs for network monitoring (additional cost)
enable_vpc_flow_logs = false

# Enable AWS Config for compliance monitoring (additional cost)
enable_config_recorder = false

#------------------------------------------------------------------------------
# Example Production Configuration
#------------------------------------------------------------------------------

# For production deployments, consider these settings:

# name_prefix = "prod-resilience"
# environment = "prod"
# 
# # Higher performance instances
# instance_type = "t3.medium"
# db_instance_class = "db.t3.small"
# 
# # Tighter security
# allowed_ssh_cidr = "10.0.0.0/8"  # Internal network only
# 
# # More aggressive thresholds
# critical_resilience_threshold = 80
# warning_resilience_threshold = 90
# 
# # Shorter RTO/RPO for mission-critical workloads
# az_rto_minutes = 2
# az_rpo_minutes = 1
# hardware_rto_minutes = 5
# hardware_rpo_minutes = 2
# 
# # Longer log retention
# log_retention_days = 365
# 
# # Enable additional monitoring
# enable_detailed_monitoring = true
# enable_vpc_flow_logs = true
# enable_config_recorder = true

#------------------------------------------------------------------------------
# Example Development Configuration
#------------------------------------------------------------------------------

# For development/testing environments:

# name_prefix = "dev-resilience"
# environment = "dev"
# 
# # Minimal resources for cost savings
# instance_type = "t3.micro"
# db_instance_class = "db.t3.micro"
# 
# # Relaxed thresholds for testing
# critical_resilience_threshold = 60
# warning_resilience_threshold = 70
# 
# # Shorter retention to save costs
# log_retention_days = 3
# rds_backup_retention_days = 1
# 
# # Allow broader access for development
# allowed_ssh_cidr = "0.0.0.0/0"  # Not recommended for production!

#------------------------------------------------------------------------------
# Multi-Region Considerations
#------------------------------------------------------------------------------

# When deploying to multiple regions, consider:
# - Adjusting CIDR blocks to avoid conflicts
# - Using region-specific naming prefixes
# - Configuring cross-region backup strategies
# - Setting appropriate regional RTO/RPO targets

# Example for us-west-2 deployment:
# name_prefix = "resilience-west"
# vpc_cidr = "10.1.0.0/16"
# public_subnet_1_cidr = "10.1.1.0/24"
# private_subnet_2_cidr = "10.1.2.0/24"