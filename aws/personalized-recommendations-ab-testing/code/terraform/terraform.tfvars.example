# Example Terraform Variables Configuration
# Copy this file to terraform.tfvars and customize for your environment

# General Configuration
project_name = "my-personalize-system"
environment  = "dev"  # dev, staging, prod
aws_region   = "us-west-2"

# DynamoDB Configuration
dynamodb_billing_mode   = "PAY_PER_REQUEST"  # or "PROVISIONED"
dynamodb_read_capacity  = 10
dynamodb_write_capacity = 5

# Lambda Configuration
lambda_timeout     = 30
lambda_memory_size = 512  # Increase for better performance
lambda_runtime     = "python3.9"

# API Gateway Configuration
api_gateway_stage_name     = "v1"
enable_api_gateway_logging = true

# Personalize Configuration
personalize_domain = "ECOMMERCE"  # or "VIDEO_ON_DEMAND"

# Custom recipe configuration (optional)
personalize_recipes = [
  {
    name        = "user-personalization"
    recipe_arn  = "arn:aws:personalize:::recipe/aws-user-personalization"
    description = "User-Personalization Algorithm"
  },
  {
    name        = "sims"
    recipe_arn  = "arn:aws:personalize:::recipe/aws-sims"
    description = "Item-to-Item Similarity Algorithm"
  },
  {
    name        = "popularity-count"
    recipe_arn  = "arn:aws:personalize:::recipe/aws-popularity-count"
    description = "Popularity-Based Algorithm"
  }
]

# A/B Testing Configuration
ab_test_variants = {
  variant_a = {
    traffic_percentage = 40
    description        = "User-Personalization Algorithm"
  }
  variant_b = {
    traffic_percentage = 30
    description        = "Item-to-Item Similarity Algorithm"
  }
  variant_c = {
    traffic_percentage = 30
    description        = "Popularity-Based Algorithm"
  }
}

# S3 Configuration
s3_force_destroy      = true   # Set to true for dev environments
s3_versioning_enabled = true

# Monitoring Configuration
enable_cloudwatch_insights = true
log_retention_days         = 30  # Increase for production

# Security Configuration
enable_vpc_endpoints       = false  # Set to true for enhanced security
kms_key_deletion_window    = 30     # Increase for production

# Cost Optimization
enable_cost_allocation_tags = true
enable_reserved_capacity    = false  # Consider for production workloads

# Production-specific configurations (uncomment for production use)
# dynamodb_billing_mode = "PROVISIONED"
# dynamodb_read_capacity = 100
# dynamodb_write_capacity = 50
# lambda_memory_size = 1024
# log_retention_days = 365
# kms_key_deletion_window = 30
# enable_vpc_endpoints = true
# enable_reserved_capacity = true