{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "resourcePrefix": {
      "value": "hc"
    },
    "environment": {
      "value": "dev"
    },
    "location": {
      "value": "eastus"
    },
    "healthcareWorkspace": {
      "value": {
        "name": "hc-hw-dev-healthcare",
        "publicNetworkAccess": "Disabled",
        "tags": {
          "compliance": "hipaa-hitrust",
          "data-classification": "phi",
          "purpose": "fhir-orchestration"
        }
      }
    },
    "fhirService": {
      "value": {
        "name": "hc-fhir-dev-service",
        "kind": "fhir-R4",
        "enableSmartProxy": true,
        "corsConfiguration": {
          "allowCredentials": false,
          "maxAge": 1440,
          "origins": ["*"],
          "headers": ["*"],
          "methods": ["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"]
        }
      }
    },
    "containerAppsEnvironment": {
      "value": {
        "name": "hc-cae-dev-environment",
        "skuName": "Consumption",
        "zoneRedundant": false
      }
    },
    "apiManagement": {
      "value": {
        "name": "hc-apim-dev-gateway",
        "skuName": "Developer",
        "skuCapacity": 1,
        "publisherName": "Healthcare Organization",
        "publisherEmail": "admin@healthcare.org",
        "customProperties": {
          "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls10": "false",
          "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls11": "false",
          "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Ssl30": "false",
          "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls10": "false",
          "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls11": "false",
          "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Ssl30": "false"
        }
      }
    },
    "communicationServices": {
      "value": {
        "name": "hc-comm-dev-service",
        "dataLocation": "United States"
      }
    },
    "logAnalytics": {
      "value": {
        "name": "hc-law-dev-workspace",
        "sku": "PerGB2018",
        "retentionInDays": 30,
        "dailyQuotaGb": 10
      }
    },
    "applicationInsights": {
      "value": {
        "name": "hc-ai-dev-insights",
        "applicationType": "web",
        "kind": "web"
      }
    },
    "containerApps": {
      "value": {
        "patientService": {
          "name": "patient-service",
          "image": "mcr.microsoft.com/azuredocs/containerapps-helloworld:latest",
          "targetPort": 80,
          "minReplicas": 1,
          "maxReplicas": 10,
          "cpu": "0.5",
          "memory": "1.0Gi",
          "external": true
        },
        "providerNotificationService": {
          "name": "provider-notification-service",
          "image": "mcr.microsoft.com/azuredocs/containerapps-helloworld:latest",
          "targetPort": 80,
          "minReplicas": 1,
          "maxReplicas": 5,
          "cpu": "0.25",
          "memory": "0.5Gi",
          "external": true
        },
        "workflowOrchestrationService": {
          "name": "workflow-orchestration-service",
          "image": "mcr.microsoft.com/azuredocs/containerapps-helloworld:latest",
          "targetPort": 80,
          "minReplicas": 2,
          "maxReplicas": 8,
          "cpu": "1.0",
          "memory": "2.0Gi",
          "external": true
        }
      }
    },
    "commonTags": {
      "value": {
        "Environment": "dev",
        "Project": "HealthcareFHIR",
        "Cost-Center": "Healthcare-IT",
        "Owner": "Healthcare-Team",
        "Data-Classification": "PHI",
        "Compliance": "HIPAA-HITRUST"
      }
    }
  }
}