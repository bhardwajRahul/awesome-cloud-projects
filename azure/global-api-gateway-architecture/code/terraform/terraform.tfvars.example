# Example Terraform variables for Multi-Region API Gateway deployment
# Copy this file to terraform.tfvars and customize the values for your environment

# Core Configuration
project_name = "my-global-api"
environment  = "prod"
location     = "East US"

# Secondary regions for multi-region deployment
# Choose regions based on your user distribution
secondary_regions = [
  "West Europe",     # Serves European users
  "Southeast Asia"   # Serves Asian users
]

# Resource group configuration
resource_group_name = "rg-global-api-gateway"

# API Management Configuration
apim_sku_name                = "Premium"    # Required for multi-region
apim_sku_capacity           = 1             # Scale units per region (1-10)
apim_publisher_name         = "My Company API Platform"
apim_publisher_email        = "api-team@mycompany.com"
apim_enable_zone_redundancy = true          # Recommended for production

# Cosmos DB Configuration
cosmos_consistency_level         = "Session"        # Session, Eventual, Strong, etc.
cosmos_enable_multi_region_writes = true           # Enable for global writes
cosmos_throughput               = 10000             # RU/s for rate limits container
cosmos_enable_free_tier         = false            # Enable if first Cosmos account

# Traffic Manager Configuration
traffic_manager_routing_method = "Performance"      # Performance, Priority, Weighted, Geographic
traffic_manager_ttl           = 30                  # DNS TTL in seconds

# Monitoring Configuration
log_analytics_sku           = "PerGB2018"          # Pricing tier for Log Analytics
log_retention_days          = 30                   # Log retention period
enable_application_insights = true                 # Enable distributed tracing

# Security Configuration
enable_managed_identity = true                     # Use managed identity for authentication
cosmos_enable_rbac      = true                     # Use RBAC for Cosmos DB access

# Network Configuration (Optional)
virtual_network_type = "None"                      # None, External, Internal

# Custom Domain Configuration (Optional)
# custom_domain_name = "api.mycompany.com"
# certificate_source = "Managed"                   # Managed or KeyVault

# Advanced Configuration (Optional)
# enable_client_certificate = false                # Enable client certificate auth

# Resource Tagging
tags = {
  Environment = "production"
  Project     = "global-api-gateway"
  Owner       = "platform-team"
  CostCenter  = "engineering"
  Purpose     = "multi-region-api-gateway"
  ManagedBy   = "terraform"
}

# Development/Testing Overrides
# Uncomment and modify these values for non-production environments

# For Development Environment:
# apim_sku_name = "Developer"                      # Cheaper for testing
# apim_sku_capacity = 1
# cosmos_throughput = 400                          # Minimum throughput
# cosmos_enable_free_tier = true                   # Use free tier if available
# log_retention_days = 7                           # Shorter retention
# secondary_regions = ["West Europe"]              # Single secondary region

# For Staging Environment:
# environment = "staging"
# apim_sku_capacity = 1
# cosmos_throughput = 5000
# log_retention_days = 14

# Regional Customization Examples:
# 
# North America focused:
# location = "East US"
# secondary_regions = ["West US 2", "Central US"]
#
# Europe focused:
# location = "West Europe"
# secondary_regions = ["UK South", "North Europe"]
#
# Asia Pacific focused:
# location = "Southeast Asia"
# secondary_regions = ["Japan East", "Australia East"]
#
# Global coverage:
# location = "East US"
# secondary_regions = ["West Europe", "Southeast Asia", "Australia East"]