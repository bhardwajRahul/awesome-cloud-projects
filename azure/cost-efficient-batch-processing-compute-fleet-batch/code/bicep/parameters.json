{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "location": {
      "value": "eastus"
    },
    "environmentType": {
      "value": "dev"
    },
    "uniqueSuffix": {
      "value": "abc123"
    },
    "batchAccountName": {
      "value": "batchacctabc123"
    },
    "storageAccountName": {
      "value": "stbatchabc123"
    },
    "computeFleetName": {
      "value": "compute-fleet-abc123"
    },
    "logAnalyticsWorkspaceName": {
      "value": "log-batch-abc123"
    },
    "batchPoolConfig": {
      "value": {
        "poolId": "batch-pool-abc123",
        "vmSize": "Standard_D2s_v3",
        "targetDedicatedNodes": 0,
        "targetLowPriorityNodes": 10,
        "maxNodes": 20,
        "autoScaleEvaluationInterval": "PT5M"
      }
    },
    "computeFleetConfig": {
      "value": {
        "spotCapacityPercentage": 80,
        "regularCapacityPercentage": 20,
        "maxSpotPricePerVM": 0.05,
        "minCapacity": 0,
        "maxCapacity": 100
      }
    },
    "vmConfiguration": {
      "value": {
        "publisher": "MicrosoftWindowsServer",
        "offer": "WindowsServer",
        "sku": "2022-datacenter-core",
        "version": "latest",
        "adminUsername": "batchadmin",
        "computerNamePrefix": "batch-vm"
      }
    },
    "budgetConfig": {
      "value": {
        "amount": 100,
        "alertThreshold": 80,
        "contactEmail": "admin@example.com"
      }
    },
    "tags": {
      "value": {
        "purpose": "batch-processing",
        "environment": "dev",
        "solution": "cost-efficient-batch",
        "managedBy": "bicep",
        "costCenter": "engineering",
        "project": "azure-batch-demo"
      }
    }
  }
}