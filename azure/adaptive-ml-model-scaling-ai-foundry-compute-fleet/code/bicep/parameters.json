{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "location": {
      "value": "eastus"
    },
    "uniqueSuffix": {
      "value": "ml001"
    },
    "environment": {
      "value": "dev"
    },
    "costCenter": {
      "value": "ML-Engineering"
    },
    "projectName": {
      "value": "adaptive-ml-scaling"
    },
    "aiFoundryConfig": {
      "value": {
        "name": "aif-adaptive-ml001",
        "displayName": "AI Foundry Hub for ML Adaptive Scaling",
        "description": "Central hub for orchestrating ML scaling agents with intelligent automation",
        "storageHnsEnabled": true,
        "publicNetworkAccess": "Enabled"
      }
    },
    "mlWorkspaceConfig": {
      "value": {
        "name": "mlw-scaling-ml001",
        "displayName": "ML Workspace for Adaptive Scaling",
        "description": "Machine Learning workspace for model training and inference with auto-scaling capabilities",
        "hbiWorkspace": false,
        "publicNetworkAccess": "Enabled"
      }
    },
    "computeFleetConfig": {
      "value": {
        "name": "cf-ml-scaling-ml001",
        "spotPriorityProfile": {
          "capacity": 20,
          "minCapacity": 5,
          "maxPricePerVM": 0.10,
          "evictionPolicy": "Deallocate",
          "allocationStrategy": "PriceCapacityOptimized"
        },
        "regularPriorityProfile": {
          "capacity": 10,
          "minCapacity": 2,
          "allocationStrategy": "LowestPrice"
        },
        "vmSizesProfile": [
          {
            "name": "Standard_D4s_v3",
            "rank": 1
          },
          {
            "name": "Standard_D8s_v3",
            "rank": 2
          },
          {
            "name": "Standard_E4s_v3",
            "rank": 3
          }
        ]
      }
    },
    "monitoringConfig": {
      "value": {
        "logAnalyticsName": "law-ml-ml001",
        "applicationInsightsName": "ai-ml-ml001",
        "workbookName": "ML-Scaling-Dashboard",
        "retentionInDays": 30
      }
    },
    "storageConfig": {
      "value": {
        "accountName": "stmlscalingml001",
        "skuName": "Standard_LRS",
        "accessTier": "Hot",
        "allowBlobPublicAccess": false,
        "allowSharedKeyAccess": true,
        "minimumTlsVersion": "TLS1_2"
      }
    },
    "keyVaultConfig": {
      "value": {
        "name": "kv-ml-ml001",
        "skuName": "standard",
        "enabledForDeployment": false,
        "enabledForTemplateDeployment": true,
        "enabledForDiskEncryption": false,
        "enableSoftDelete": true,
        "softDeleteRetentionInDays": 7,
        "enablePurgeProtection": false
      }
    },
    "containerRegistryConfig": {
      "value": {
        "name": "crmlscalingml001",
        "skuName": "Basic",
        "adminUserEnabled": true,
        "publicNetworkAccess": "Enabled"
      }
    }
  }
}