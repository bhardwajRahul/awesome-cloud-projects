# =============================================================================
# Azure Deployment Environments - Terraform Configuration Example
# =============================================================================

# =============================================================================
# Core Configuration
# =============================================================================

# Project identifier for resource naming
project_name = "myproject"

# Azure region for deployment
location = "East US"

# Environment classification
environment = "dev"

# =============================================================================
# Resource Names (Optional - leave empty for auto-generated names)
# =============================================================================

# Resource group name (auto-generated if empty)
resource_group_name = ""

# DevCenter name (auto-generated if empty)
devcenter_name = ""

# DevCenter project name (auto-generated if empty)
devcenter_project_name = ""

# Storage account name (auto-generated if empty)
storage_account_name = ""

# Catalog name for infrastructure templates
catalog_name = "catalog-templates"

# =============================================================================
# Environment Types Configuration
# =============================================================================

environment_types = [
  {
    name        = "development"
    description = "Development environment with cost controls and auto-deletion"
    tags = {
      tier         = "development"
      cost-center  = "engineering"
      auto-delete  = "true"
      max-duration = "72h"
    }
  },
  {
    name        = "staging"
    description = "Staging environment with enhanced monitoring"
    tags = {
      tier         = "staging"
      cost-center  = "engineering"
      monitoring   = "enhanced"
      auto-delete  = "false"
      max-duration = "168h"
    }
  },
  {
    name        = "production"
    description = "Production environment with full monitoring and backup"
    tags = {
      tier         = "production"
      cost-center  = "engineering"
      monitoring   = "full"
      auto-delete  = "false"
      backup       = "enabled"
    }
  }
]

# =============================================================================
# Environment Definitions (Infrastructure Templates)
# =============================================================================

environment_definitions = [
  {
    name         = "webapp-env"
    description  = "Standard web application environment with Azure App Service"
    template_path = "webapp-environment.json"
  },
  {
    name         = "api-env"
    description  = "API environment with Azure Functions and API Management"
    template_path = "api-environment.json"
  },
  {
    name         = "data-env"
    description  = "Data processing environment with Azure Data Factory"
    template_path = "data-environment.json"
  }
]

# =============================================================================
# Storage Account Configuration
# =============================================================================

# Storage account performance tier
storage_account_tier = "Standard"

# Storage account replication type
storage_account_replication = "LRS"

# Enable HTTPS-only traffic
enable_https_traffic_only = true

# Disable public access to blobs
enable_public_access = false

# Minimum TLS version
min_tls_version = "TLS1_2"

# =============================================================================
# Security and Access Control
# =============================================================================

# Enable RBAC assignments for current user
enable_rbac_assignments = true

# Allowed Azure regions for environment deployment
allowed_locations = ["East US", "East US 2", "West US 2", "Central US"]

# =============================================================================
# Monitoring and Observability
# =============================================================================

# Enable Azure Monitor integration
enable_monitoring = true

# Log Analytics retention in days
log_analytics_retention_days = 30

# =============================================================================
# Cost Management
# =============================================================================

# Monthly budget limit in USD
cost_management_budget = 500

# Budget alert threshold for actual spending (percentage)
budget_alert_threshold_actual = 80

# Budget alert threshold for forecasted spending (percentage)
budget_alert_threshold_forecast = 90

# Email addresses for budget notifications
notification_emails = [
  "admin@company.com",
  "team@company.com"
]

# =============================================================================
# Lifecycle Management
# =============================================================================

# Auto-delete development environments after hours
auto_delete_environments = 72

# Maximum environments per user
max_environments_per_user = 5

# =============================================================================
# Resource Tagging
# =============================================================================

# Common tags applied to all resources
tags = {
  purpose     = "infrastructure-lifecycle"
  managed-by  = "terraform"
  team        = "platform-engineering"
  solution    = "azure-deployment-environments"
  project     = "myproject"
  environment = "dev"
}

# Additional tags for specific resources
additional_tags = {
  cost-center    = "engineering"
  business-unit  = "technology"
  contact-email  = "admin@company.com"
}